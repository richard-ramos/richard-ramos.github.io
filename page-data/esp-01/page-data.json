{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/esp-01/","result":{"data":{"site":{"siteMetadata":{"title":"Hello, I'm RichΛrd","social":[{"name":"twitter","url":"https://twitter.com/richardramos_me"},{"name":"github","url":"https://github.com/richard-ramos"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"aff624db-3b5c-558f-8e3c-705273e2893a","excerpt":"The  ESP8266  is an awesome Wi-Fi microcontroller, with full TCP/IP capability. It's very popular among hackers and hundreds of tutorials…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Wiring up a Wifi Module ESP-01\",\n  \"date\": \"2020-04-26T00:00:00.000Z\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ESP8266\"), \" is an awesome Wi-Fi microcontroller, with full TCP/IP capability. It's very popular among hackers and hundreds of tutorials are available for it. These modules come in a wide variety of models, being the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ESP-01\"), \" one of the most popular and cheapest.\"), mdx(\"img\", {\n    src: pinout\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"1. GND - Ground\\n2. GPIO2 - General Purpose Input/Output\\n3. GPIO0 - General Purpose Input/Output (Used for boot mode too)\\n4. UXRXD - Receiver (for serial communication)\\n5. U0TXD - Transmitter (for serial communication)\\n6. CH_PD - Chip powerdown\\n7. EXT_RSTB - Reset\\n8. VCC - 3.3v input voltage\\n\")), mdx(\"p\", null, \"I bought one of these amazing modules a few days ago because I want to explore Home Automation and IoT, and while trying to program it I found a lot of confusing information online. This will be my attempt to document how to wire up and program this microcontroller. I'm no expert in electronics, so this is just me following different tutorials and trying to make the best out of them.\"), mdx(\"h2\", null, \"Tools\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Multimeter (required to test continuity and verify voltage)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Wire strippers or an exacto knife\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Soldering Iron + solder\")), mdx(\"h2\", null, \"Materials\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ESP-01\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Breadboard\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ESP-01 breadboard adapter; or 2 1x4 male header pins, 1 2x4 female header pin and a 4 x 4 perforated board\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"2 tactile switches\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"1 led\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"3 resistors (I used 1000\\u03A9).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"20 gauge single wire cables or jumper cables\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"3.3v regulator (see notes)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A programmer: an Arduino Uno R3 or a USB to TTL serial adapter with 3.3v output\")), mdx(\"h2\", null, \"Breadboard Adapter\"), mdx(\"p\", null, \"Sadly, the ESP-01 can't be easily mounted to a breadboard. You need to use an adapter. If you want to go the DiY route, you need to take a 4x4 perforated board and male and female pins (if you don't have a 2x4 female header, you can take 2 1x4 female header and put them together). Solder them as shown in this picture. (each female pin to their corresponding male pin)\"), mdx(\"img\", {\n    src: adapter01\n  }), mdx(\"img\", {\n    src: adapter02\n  }), mdx(\"img\", {\n    src: adapter03\n  }), mdx(\"p\", null, \"You could also buy an adapter like this instead! \"), mdx(\"img\", {\n    src: adapter\n  }), mdx(\"h2\", null, \"The schematic\"), mdx(\"img\", {\n    src: schematic\n  }), mdx(\"p\", null, \"Reproduce this schematic in a breadboard (or in a perforated board if you want to make this permanent. You might need some extra header pins to connect the programmers).\"), mdx(\"img\", {\n    src: breadboard\n  }), mdx(\"p\", null, \"This schematic has two buttons. The bottom one, connects the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RST\"), \" pin to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GND\"), \" when pressed and resets the ESP; and connects the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RST\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"VCC\"), \" through a pull-up resistor when you release the button. The top button connects \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GPIO0\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GN\"), \"D through a led and resistor. These two buttons are used to enter all the modes available to the ESP8266.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Normal execution: No buttons pressed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Reset microcontroller: Bottom button pressed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Boot/Flash mode: Both buttons pressed, release the bottom button first and then release the top button\")), mdx(\"h2\", null, \"Arduino\"), mdx(\"p\", null, \"The Arduino R3 can be used as a programmer, To connect it to the ESP, connect the following pins. Notice that the ESP-01 uses the 3.3v pin. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"If you use the 5v pin you will damage the ESP-01\"), \" because it does not have an onboard voltage regulator\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"+---------+---------+\\n+ ESP-01  | Arduino |\\n+---------+---------+\\n| GND     | GND     |\\n| TX      | RX      |\\n| RX      | TX      |\\n| VCC     | 3.3v    |\\n+---------+---------+\\n\")), mdx(\"p\", null, \"Arduino's RESET must be connected to one of the GND pins with a jumper cable\"), mdx(\"img\", {\n    src: arduino\n  }), mdx(\"h2\", null, \"USB to TTL adapter\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"+---------+----------+\\n+ ESP-01  | USB->TTL |\\n+---------+----------+\\n| GND     | GND      |\\n| TX      | RX       |\\n| RX      | TX       |\\n| VCC     | 3.3v     |\\n+---------+----------+\\n\")), mdx(\"p\", null, \"The process is similar to connecting to an Arduino (the same pin connections), however these adapters might not output the current required by the ESP-01. You might end up requiring an external power source to provide the 3.3 volts. Be sure to read the datasheet of your adapter to know how much current it can provide. The one I'm using outputs 500mA which is enough to program the ESP.\"), mdx(\"img\", {\n    src: usbttl\n  }), mdx(\"p\", null, \"If you require using an external power source, be sure its output is 3.3v using a multimeter. You can achieve 3.3v with either a power regulator like the LM117\"), mdx(\"p\", null, \"Also, it's important that all grounds are connected together (the external power source, the adapter and the ESP-01)\"), mdx(\"h2\", null, \"Other programmers\"), mdx(\"p\", null, \"There are some cheap USB to UART programmers that can be turned into programmers. In this video the process is meticulously explained: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.youtube.com/watch?v=6uaIWZCRSz8\"\n  }), \"https://www.youtube.com/watch?v=6uaIWZCRSz8\"), \" . It's an interesting alternative and one that I'll be trying in the future\"), mdx(\"img\", {\n    src: usbUART\n  }), mdx(\"h2\", null, \"Programming\"), mdx(\"p\", null, \"If you are using a USB to TTL adapter like the CP2102 you need to install the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.silabs.com/products/mcu/Pages/USBtoUARTBridgeVCPDrivers.aspx\"\n  }), \"drivers\"), \". Refer to the datasheet of your programmer to know if you require drivers or not.\"), mdx(\"p\", null, \"We are going to use the Arduino IDE, which is really easy for novices, but it's also possible to use C language, Basic, Lua or Python to code the ESP-01. Download the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.arduino.cc\"\n  }), \"Arduino IDE\"), \". The latest version available is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1.8.2\")), mdx(\"p\", null, \"Once installed, go to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"File > Preferences\"), \", and in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Additional Boards and Managers\"), \"field add the URL: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://arduino.esp8266.com/stable/package_esp8266com_index.json\"), \".\"), mdx(\"p\", null, \"Then, in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Tools > Board > Board Manager\"), \", install \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"esp8266 by ESP8266 Community version 2.6.3\"), \".\"), mdx(\"p\", null, \"Select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Generic ESP8266 Board\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Tools > Board\"), \", and select the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Blink\"), \" example in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"File > Examples > 01.Basics\"), \". Replace the led pin number from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"13\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-cpp\"\n  }), \"int led = 2;\\n\\nvoid setup() {\\n  pinMode(led, OUTPUT);\\n}\\n\\nvoid loop() {\\n  digitalWrite(led, HIGH);\\n  delay(1000);\\n  digitalWrite(led, LOW);\\n  delay(1000);\\n}\\n\")), mdx(\"p\", null, \"Click on the arrow button on the Arduino IDE to upload the program, and when you see this on the console:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Sketch uses 256332 bytes (26%) of program storage space. Maximum is 958448 bytes.\\nGlobal variables use 26808 bytes (32%) of dynamic memory, leaving 55112 bytes for local variables. Maximum is 81920 bytes.\\nesptool.py v2.8\\nSerial port COM4\\nConnecting........_____\\n\")), mdx(\"p\", null, \"Press both buttons, release the bottom button first, and then release the second button. You'll see the led stay ON, and the blue led onboard the ESP-01 flash. This will be shown in the console:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Chip is ESP8266EX\\nFeatures: WiFi\\nCrystal is 26MHz\\nMAC: 18:fe:34:dc:f6:11\\nUploading stub...\\nRunning stub...\\nStub running...\\nConfiguring flash size...\\nAuto-detected Flash size: 1MB\\nCompressed 260480 bytes to 190665...\\n\\nWriting at 0x00000000... (8 %)\\nWriting at 0x00004000... (16 %)\\nWriting at 0x00008000... (25 %)\\nWriting at 0x0000c000... (33 %)\\nWriting at 0x00010000... (41 %)\\nWriting at 0x00014000... (50 %)\\nWriting at 0x00018000... (58 %)\\nWriting at 0x0001c000... (66 %)\\nWriting at 0x00020000... (75 %)\\nWriting at 0x00024000... (83 %)\\nWriting at 0x00028000... (91 %)\\nWriting at 0x0002c000... (100 %)\\nWrote 260480 bytes (190665 compressed) at 0x00000000 in 16.6 seconds (effective 125.8 kbit/s)...\\nHash of data verified.\\n\\nLeaving...\\nHard resetting via RTS pin...\\n\")), mdx(\"p\", null, \"After a while, the script will be uploaded, and you will have to press the bottom button to reset the ESP and that's it! you should see the led blinking!\"), mdx(\"img\", {\n    src: blink\n  }), mdx(\"h2\", null, \"Operation\"), mdx(\"p\", null, \"You should now be able to use the ESP-01 as a standalone microcontroller assuming you use a 3.3v power source. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GPIO0\"), \" should also be available for use in your code.\\nThere are also some examples available in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"File > Examples\"), \" that use the ESP8266 WiFi capabilities, to make your own access points or web clients.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/esp-01/","title":"Wiring up a Wifi Module ESP-01","tags":[],"keywords":[],"date":"April 26, 2020"},"previous":{"__typename":"MdxBlogPost","id":"e174de5b-e4e8-52d9-a8a6-25211bf48c68","excerpt":"One of the inconveniences of being a remote worker in the Dominican Republic is that there's always a chance of power outage. So far I have…","slug":"/remote-dev-machine/","title":"Setting up a remote development environment","date":"April 18, 2020"},"next":{"__typename":"MdxBlogPost","id":"353f79f0-92c1-5cb4-8ee2-4259c8290052","excerpt":"In this post we are going to add a screen to the  ESP-01  to display data obtained from a webservice. The  ESP-01  is limited in the number…","slug":"/esp-01-oled/","title":"Adding a OLED screen to the ESP-01","date":"April 26, 2020"}},"pageContext":{"id":"aff624db-3b5c-558f-8e3c-705273e2893a","previousId":"e174de5b-e4e8-52d9-a8a6-25211bf48c68","nextId":"353f79f0-92c1-5cb4-8ee2-4259c8290052"}}}